<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Metronom2</title>
    <script src="jspsych-6.0.5/jspsych.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-html-button-response.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-plugin-try.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-function-tap.js"></script>
    <link href="jspsych-6.0.5/css/jspsych.css" rel="stylesheet" type="text/css"></link>
</head>
<style>
    .instruction{
        text-align: center;
        top: 10%;
        left: 20%;
        font-size: 80px;
    }
</style>
<body>
<script>

    var hello = {
        type: 'html-button-response',
        stimulus: '<p class="instruction">Welcome</p>',
        choices: ['Continue'],
    };

    var finished = {
        type: 'html-button-response',
        stimulus: '<p class="instruction">You have finished</p><p class="instruction"> the experiment</p><br><p class="instruction">Thank you</p>',
        choices: ['Continue'],
    };

    var trial_sound_POC = {
        type: 'function-tap',
        stimulus: 'sounds/tone_10.wav',
        choices: ['Tap'],
        prompt: "<p>when the sound is over, try tapping on the button with the same tempo</p>",
        trial_duration: 8000
    };

    var trial_tactile_POC = {
        type: 'function-tap',
        stimulus: '',
        choices: ['Tap'],
        prompt: "<p>when the vibration is over, try tapping on the button with the same tempo</p>",
        trial_duration: 8000,
        on_start: function () {
            alert("vibrating");
            navigator.vibrate([400,100,400,100,400,100,400,100,400,100,400,100]);
        }
    };

    var trial_tactile_150_50 = {
        type: 'function-tap',
        stimulus: '',
        choices: ['Tap'],
        prompt: "<p>150 vibrate, 50 stop</p>",
        trial_duration: 8000,
        on_start: function () {
            alert("vibrating");
            navigator.vibrate([150,50,150,50]);
        }
    };

    var trial_tactile_100_100 = {
        type: 'function-tap',
        stimulus: '',
        choices: ['Tap'],
        prompt: "<p>100 vibrate, 100 stop</p>",
        trial_duration: 8000,
        on_start: function () {
            alert("vibrating");
            navigator.vibrate([100,100,100,100]);
        }
    };

    var trial_tactile_50_150 = {
        type: 'function-tap',
        stimulus: '',
        choices: ['Tap'],
        prompt: "<p>50 vibrate, 150 stop</p>",
        trial_duration: 8000,
        on_start: function () {
            alert("vibrating");
            navigator.vibrate([50,150,50,150]);
        }
    };

    var trial_tactile_40_160 = {
        type: 'function-tap',
        stimulus: '',
        choices: ['Tap'],
        prompt: "<p>40 vibrate, 160 stop</p>",
        trial_duration: 8000,
        on_start: function () {
            alert("vibrating");
            navigator.vibrate([40,160,40,160]);
        }
    };

    var trial_tactile_30_170 = {
        type: 'function-tap',
        stimulus: '',
        choices: ['Tap'],
        prompt: "<p>30 vibrate, 170 stop</p>",
        trial_duration: 8000,
        on_start: function () {
            alert("vibrating");
            navigator.vibrate([30,170,30,170]);
        }
    };

    var trial_tactile_20_180 = {
        type: 'function-tap',
        stimulus: '',
        choices: ['Tap'],
        prompt: "<p>20 vibrate, 180 stop</p>",
        trial_duration: 8000,
        on_start: function () {
            alert("vibrating");
            navigator.vibrate([20,180,20,180]);
        }
    };


    jsPsych.init({
        timeline: [hello,trial_sound_POC,trial_tactile_150_50,trial_tactile_100_100,trial_tactile_50_150,trial_tactile_40_160,trial_tactile_30_170,trial_tactile_20_180,finished]
    })
</script>
</body>
</html>